<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê¶ë‚¨ì§€ ìƒíƒœì§€ë„</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.css"/>
  <style>
    html, body { height:100%; margin:0; }
    body { font-family:system-ui, sans-serif; }
    #map { width:100%; height:100%; }
    #app { display:grid; grid-template-columns:300px 1fr; height:100%; }
    aside { border-right:1px solid #ddd; padding:12px; overflow:auto; background:#333; }
    .brand { font-weight:700; font-size:18px; margin-bottom:8px; color:#fff; }
    .legend { display:flex; align-items:center; gap:6px; margin:4px 0; }
    /* ì‚¬ì´ë“œíŒ¨ë„(ì–´ë‘ìš´ ë°°ê²½)ì—ì„œëŠ” í° ê¸€ì */
    aside .legend { color:#fff; }
    /* ëª¨ë°”ì¼ ì‹œíŠ¸(í° ë°°ê²½)ì—ì„œëŠ” ì–´ë‘ìš´ ê¸€ì */
    #sheet .legend { color:#111; }  /* í˜¹ì€ #222 / #333 ì·¨í–¥ëŒ€ë¡œ */
    .chip { width:14px; height:14px; border-radius:4px; }
    .chip.birds{background:#2563eb;} .chip.plants{background:#059669;} .chip.insects{background:#d97706;}
    .panel{ background:#444; border:1px solid #555; border-radius:8px; padding:8px; margin:8px 0; color:#fff; }
    .fab{ position:fixed; right:12px; bottom:12px; z-index:1000; padding:8px 14px; border-radius:999px; background:#fff; border:1px solid #ddd; box-shadow:0 2px 8px #0002; }
    #sheet{ position:fixed; left:0; right:0; bottom:0; background:#fff; border-top-left-radius:16px; border-top-right-radius:16px; transform:translateY(100%); transition:.3s; z-index:999; max-height:70%; overflow:auto; }
    #sheet.open{ transform:translateY(0); }
    #grab{ width:40px; height:4px; background:#ccc; border-radius:2px; margin:10px auto; }
    @media(max-width:880px){ #app{ grid-template-columns:1fr; } aside{display:none;} .fab{display:block;} } 
    @media(min-width:881px){ .fab,#sheet{display:none;} }
     /* ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
    .eco-badge{
      width:16px;
      height:16px;
      border-radius:4px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:10px;
      line-height:1;
      background:#2563eb;
      color:#fff;
      border:1px solid #fff;
    }
    .eco-badge.plants{background:#059669}
    .eco-badge.insects{background:#d97706}
  </style>
</head>
<body>
<div id="app">
  <aside>
    <div class="brand">ê¶ë‚¨ì§€ ìƒíƒœì§€ë„</div>
    <div class="panel">
      <strong>ë ˆì´ì–´</strong><br>
      <label><input type="checkbox" id="birdsToggle" checked> ê·¸ ì™¸</label><br>
      <label><input type="checkbox" id="plantsToggle" checked> ì‹ë¬¼</label><br>
      <label><input type="checkbox" id="insectsToggle" checked> ê³¤ì¶©</label><br>
      <label><input type="checkbox" id="heatToggle"> íˆíŠ¸ë§µ</label>
    </div>
    <div class="panel">
      <strong>ë²”ë¡€</strong>
      <div class="legend"><span class="chip birds"></span>ê·¸ ì™¸</div>
      <div class="legend"><span class="chip plants"></span>ì‹ë¬¼</div>
      <div class="legend"><span class="chip insects"></span>ê³¤ì¶©</div>
    </div>
  </aside>
  <main><div id="map"></div></main>
</div>
<button class="fab" id="openSheet">ë ˆì´ì–´</button>
<div id="sheet"><div id="grab"></div>
  <div style="padding:10px 16px">
    <strong>ë ˆì´ì–´</strong><br>
    <label><input type="checkbox" id="mb_birds" checked> ê·¸ ì™¸</label><br>
    <label><input type="checkbox" id="mb_plants" checked> ì‹ë¬¼</label><br>
    <label><input type="checkbox" id="mb_insects" checked> ê³¤ì¶©</label><br>
    <label><input type="checkbox" id="mb_heat"> íˆíŠ¸ë§µ</label>
    <hr>
    <strong>ë²”ë¡€</strong>
    <div class="legend"><span class="chip birds"></span>ê·¸ ì™¸</div>
    <div class="legend"><span class="chip plants"></span>ì‹ë¬¼</div>
    <div class="legend"><span class="chip insects"></span>ê³¤ì¶©</div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<script src="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.js"></script>
<script>
// 0) ì§€ë„ & ë² ì´ìŠ¤ë ˆì´ì–´
const map = L.map('map').setView([36.269681,126.912143],16);
const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19, attribution:'&copy; OpenStreetMap'}).addTo(map);
const esriSat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',{maxZoom:19, attribution:'Tiles &copy; Esri'});
L.control.layers({"ì¼ë°˜(OSM, ê¸°ë³¸)":osm,"ìœ„ì„±(Esri)":esriSat},{},{collapsed:true}).addTo(map);

// 1) í°ìƒ‰ ë°°ê²½ ë§ˆìŠ¤í¬ (ë°˜ê²½ 340m ì› ë‚´ë¶€ë§Œ ë³´ì´ê²Œ)
map.createPane('maskPane');
map.getPane('maskPane').style.zIndex = 650; // íƒ€ì¼/ë²¡í„° ìœ„ì— ë®ìŒ
map.getPane('maskPane').style.pointerEvents = 'none';
function toRad(d){return d*Math.PI/180;} function toDeg(r){return r*180/Math.PI;}
function circleCoords(lat,lng,r,steps=128){const R=6371000,d=r/R,lat1=toRad(lat),lon1=toRad(lng);const coords=[];for(let i=0;i<steps;i++){const brng=toRad(i/steps*360);const lat2=Math.asin(Math.sin(lat1)*Math.cos(d)+Math.cos(lat1)*Math.sin(d)*Math.cos(brng));const lon2=lon1+Math.atan2(Math.sin(brng)*Math.sin(d)*Math.cos(lat1),Math.cos(d)-Math.sin(lat1)*Math.sin(lat2));coords.push([toDeg(lat2),toDeg(lon2)]);}return coords;}
const focus={lat:36.269681,lng:126.912143,radiusM:340};
const ringCoords = circleCoords(focus.lat, focus.lng, focus.radiusM, 128);
const world=[[-89.9,-179.9],[-89.9,179.9],[89.9,179.9],[89.9,-179.9]];
L.polygon([world, ringCoords.slice().reverse()], {pane:'maskPane', stroke:false, fillColor:'#fff', fillOpacity:1}).addTo(map);
L.polygon(ringCoords,{color:'#10b981',weight:2,dashArray:'5,5',fill:false}).addTo(map);

// 2) ì•„ì´ì½˜/ê·¸ë£¹
const makeIcon=(cls,emoji)=> L.divIcon({
  className:'eco-icon',
  html:`<div class="eco-badge ${cls}">${emoji}</div>`,
  iconSize:[16,16],
  iconAnchor:[8,8]
});
const icons={
  birds: makeIcon('', 'ğŸ•Šï¸'),
  plants: makeIcon('plants', 'ğŸŒ¿'),
  insects: makeIcon('insects', 'ğŸ›')
};
const groups={birds:L.layerGroup().addTo(map),plants:L.layerGroup().addTo(map),insects:L.layerGroup().addTo(map)};

// 3) ë°ì´í„° (ìƒ˜í”Œ + ì‚¬ìš©ì ìš”ì²­ ë„¤ë°œë‚˜ë¹„)
const points=[
 {cat:'birds',name:'ì°¸ê°œêµ¬ë¦¬ (<i>Pelophylax nigromaculatus</i>)',lat:36.269611,lon:126.911023,
  desc: 'ì´ˆë¡ ë“±ê³¼ ê²€ì€ ë°˜ì , ê¸¸ê²Œ ìš¸ì–´ëŒ€ëŠ” â€˜ê¿€â€”â€™ ì†Œë¦¬ê°€ ë‘ë“œëŸ¬ì§„ë‹¤.',
  img:'./Images/b1.jpg' },
 {cat:'birds',name:'ì¤‘ë°±ë¡œ (<i>Ardea intermedia</i>)',lat:36.270368,lon:126.911524,
  desc: 'ì „ì‹ ì´ í°ìƒ‰ì´ë©° ë¶€ë¦¬ê°€ ê¸¸ê³  ê³§ì•„ ë¬¼ê³ ê¸°ë¥¼ ì¬ë¹ ë¥´ê²Œ ë‚šëŠ”ë‹¤.',
  img:'./Images/b2.jpg' },
 {cat:'birds',name:'ì™œê°€ë¦¬ (<i>Ardea cinerea</i>)',lat:36.268943,lon:126.913767,
  desc: 'íšŒìƒ‰ ëª¸ê³¼ ê²€ì€ ëˆˆì¹ì„ ì´ ëšœë ·í•˜ê³ , ê¸´ ë‹¤ë¦¬ë¡œ ì–•ì€ ë¬¼ê°€ì—ì„œ ëŠë¦¬ê²Œ ì‚¬ëƒ¥í•œë‹¤.',
  img:'./Images/b3.jpg' },
 {cat:'birds',name:'ê¹Œì¹˜ (<i>Pica serica</i>)',lat:36.268094,lon:126.912281,
  desc: 'ê²€ì€Â·í° ê¹ƒì˜ ëŒ€ë¹„ì™€ ê¸´ ê¼¬ë¦¬ê°€ íŠ¹ì§•ì´ë©°, ì§€ëŠ¥ì´ ë†’ê³  ì†Œë¦¬ê°€ ë‹¤ì–‘í•˜ë‹¤.',
  img:'./Images/b4.jpg'},
 {cat:'birds',name:'í°ëº¨ê²€ë‘¥ì˜¤ë¦¬ (<i>Anas zonorhyncha</i>)',lat:36.269638,lon:126.910922,
  desc: 'ê°ˆìƒ‰ ëª¸í†µì— ë¶€ë¦¬ ë ë…¸ë€ í…Œì™€ í°ëº¨ì´ íŠ¹ì§•ì¸ ë¯¼ë¬¼ì˜¤ë¦¬ë‹¤.',
  img:'./Images/b5.jpg'},
 {cat:'birds',name:'ì‰ì–´ (<i>Cyprinus rubrofuscus</i>)',lat:36.269300,lon:126.912206,
  desc: 'ì˜¤ë˜ ì‚¬ëŠ” ëŒ€í‘œì  ë‹´ìˆ˜ì–´ë¡œ í¬ê¸°ê°€ í¬ê³  í™˜ê²½ ì ì‘ë ¥ì´ ë›°ì–´ë‚˜ë‹¤.',
  img:'./Images/b6.jpg'},
  {cat:'birds',name:'ë…¸ë‘ë§íƒœë²„ì„¯ (<i>Phallus luteus</i>)',lat:36.269406,lon:126.910571,
  desc: 'ë…¸ë€ ê°“ ì•„ë˜ ë§ì‚¬ ê°™ì€ â€˜ì¹˜ë§ˆâ€™ë¥¼ ë“œë¦¬ìš°ê³  ì•…ì·¨ë¡œ íŒŒë¦¬ë¥¼ ìœ ì¸í•œë‹¤.',
  img:'./Images/b7.jpg'},

 {cat:'plants',name:'ê°œêµ¬ë¦¬ë°¥ (<i>Spirodela polyrhiza</i>)',lat:36.271941,lon:126.911332,
  desc: 'ë™ì „ë³´ë‹¤ ì‘ì€ ë‘¥ê·¼ ìì´ ìˆ˜ë©´ì„ ì´˜ì´˜íˆ ë®ê³ , ë°‘ë©´ì— ì§§ì€ ë¿Œë¦¬ê°€ ë‹¬ë¦°ë‹¤.',
  img:'./Images/p1.jpg'},
  {cat:'plants',name:'ê³ ë§ˆë¦¬ (<i>Persicaria thunbergii</i>)',lat:36.271469,lon:126.910924,
  desc: 'ìŠµì§€ì— ìë¼ëŠ” 1ë…„ìƒ ì´ˆë³¸ìœ¼ë¡œ ë¶‰ì€ ìì£¼ìƒ‰ ì‘ì€ ê½ƒì´ ì´ì‚­ ëª¨ì–‘ìœ¼ë¡œ í•€ë‹¤.',
  img:'./Images/p2.jpg'},
  {cat:'plants',name:'êµ­í™” (<i>Chrysanthemum Ã— morifolium</i>)',lat:36.272097,lon:126.911779,
  desc: 'í˜€ê½ƒê³¼ ê´€ê½ƒì´ ì´˜ì´˜íˆ ëª¨ì—¬ í–¥ê¸°ê°€ ê°•í•˜ê³ , í’ˆì¢…ì— ë”°ë¼ ê½ƒëª¨ì–‘ì´ ë§¤ìš° ë‹¤ì–‘í•˜ë‹¤.',
  img:'./Images/p3.jpg'},
  {cat:'plants',name:'ê¸´í‘ì‚¼ë¦‰ (<i>Sparganium japonicum</i>)',lat:36.268665,lon:126.914455,
  desc: 'ë¬¼ê°€ë‚˜ ì–•ì€ ë¬¼ì— ì„œì‹í•˜ë©° ê²€ì€ ê³µ ëª¨ì–‘ì˜ ê½ƒì°¨ë¡€ê°€ ë‹¬ë¦¬ëŠ” ìˆ˜ìƒì‹ë¬¼ì´ë‹¤.',
  img:'./Images/p4.jpg'},
  {cat:'plants',name:'ê½ƒë¬´ë¦‡ (<i>Lycoris radiata</i>)',lat:36.270689,lon:126.912510,
  desc: 'ì ì—†ì´ ê½ƒëŒ€ë§Œ ì˜¬ë¼ì™€ ë¶‰ì€ ê½ƒì„ í”¼ìš°ê³ , ìì€ ê½ƒ ì§„ ë’¤ ë”°ë¡œ ë‚œë‹¤.',
  img:'./Images/p5.jpg'},
  {cat:'plants',name:'ë‚˜ë¬´ìˆ˜êµ­ (<i>Hydrangea paniculata</i>)',lat:36.270966,lon:126.912544,
  desc: 'ì›ì¶”í˜• í° ê½ƒì°¨ë¡€ê°€ í°ìƒ‰ì—ì„œ ì—°ë¶„í™ìœ¼ë¡œ ë³€ìƒ‰í•˜ë©° ê°€ì§€ê°€ ê³§ê²Œ ì„ ë‹¤.',
  img:'./Images/p6.jpg'},
  {cat:'plants',name:'ë…¸ë‘ì–´ë¦¬ì—°ê½ƒ (<i>Nymphoides peltata</i>)',lat:36.269009,lon:126.910765,
  desc: 'ë‘¥ê·¼ ëœ°ìê³¼ ë³„ ëª¨ì–‘ì˜ ë…¸ë€ ê½ƒì´ ë¬¼ê°€ë¥¼ ì¥ì‹í•œë‹¤.',
  img:'./Images/p7.jpg'},
  {cat:'plants',name:'ëŠ¥ì†Œí™” (<i>Campsis grandiflora</i>)',lat:36.271708,lon:126.911249,
  desc: 'ì£¼í™©ìƒ‰ ë‚˜íŒ” ëª¨ì–‘ ê½ƒì´ ë©êµ´ ëì—ì„œ ë‹¤ë°œë¡œ í”¼ê³ , ê¸´ ê¼¬íˆ¬ë¦¬ ì—´ë§¤ë¥¼ ë§ºëŠ”ë‹¤.',
  img:'./Images/p8.jpg'},
  {cat:'plants',name:'ë‹¨í’ìë¶€ìš© (<i>Hibiscus coccineus</i>)',lat:36.269722,lon:126.911062,
  desc: 'ë‹¨í’ì²˜ëŸ¼ ê°ˆë¼ì§„ ìê³¼ í° ë¶„í™ìƒ‰ ê½ƒì´ íŠ¹ì§•ì¸ ê´€ìƒìš© ì•„ìš±ê³¼ ì‹ë¬¼ì´ë‹¤.',
  img:'./Images/p9.jpg'},
  {cat:'plants',name:'ë‹­ì˜ì¥í’€ (<i>Commelina communis</i>)',lat:36.271147,lon:126.910546,
  desc: 'ë§‘ì€ íŒŒë€ ê½ƒì´ ì•„ì¹¨ì— í”¼ê³  ë‚®ì— ì‹œë“¤ë©°, ììë£¨ê°€ ê¸¸ê³  ì¦™ì´ ë§ë‹¤.',
  img:'./Images/p10.jpg'},
  {cat:'plants',name:'ë°ì´ì§€ (<i>Bellis perennis</i>)',lat:36.272158,lon:126.911332,
  desc: 'ë‚®ì€ ë¡œì œíŠ¸ì—ì„œ ê½ƒëŒ€ê°€ ì˜¬ë¼ì™€ í° í˜€ê½ƒê³¼ ë…¸ë€ ê´€ìƒí™”ê°€ ì„ ëª…í•˜ë‹¤.',
  img:'./Images/p11.jpg'},
  {cat:'plants',name:'ë©°ëŠë¦¬ë°°ê¼½ (<i>Persicaria perfoliata</i>)',lat:36.268911,lon:126.912958,
  desc: 'ì¤„ê¸°ì— ë’¤ê¿°ëŠ” ëª¨ì–‘ì˜ ìê³¼ ë’¤ë¡œ íœ˜ëŠ” ê°ˆê³ ë¦¬ ê°€ì‹œë¡œ ë‹¤ë¥¸ ì‹ë¬¼ì— ì˜ ë‹¬ë¼ë¶™ëŠ”ë‹¤.',
  img:'./Images/p12.jpg'},
  {cat:'plants',name:'ë¬´ê¶í™” (<i>Hibiscus syriacus</i>)',lat:36.269310,lon:126.914209,
  desc: 'í° ê¹”ë•Œê¸° ëª¨ì–‘ ê½ƒì´ ì—°ì†ì ìœ¼ë¡œ í”¼ê³ , í™”ì‹¬ì˜ ìˆ˜ìˆ ê¸°ë‘¥ì´ í•œëˆˆì— ëˆë‹¤.',
  img:'./Images/p13.jpg'},
  {cat:'plants',name:'ë¬¼ìˆ˜ì„¸ë¯¸ (<i>Myriophyllum verticillatum</i>)',lat:36.268614,lon:126.912330,
  desc: 'ì ê¸´ ìì´ ì‹¤ì²˜ëŸ¼ ì˜ê²Œ ê°ˆë¼ì ¸ ë¬¼ì†ì—ì„œ ë¶€ë“œëŸ¬ìš´ ìˆ²ì„ ì´ë£¬ë‹¤.',
  img:'./Images/p14.jpg'},
  {cat:'plants',name:'ë¬¼ì–‘ê·€ë¹„ (<i>Hydrocleys nymphoides</i>)',lat:36.268652,lon:126.913614,
  desc: 'ë¬¼ ìœ„ì— ëœ¨ëŠ” íƒ€ì› ìê³¼ ë°ì€ ë…¸ë€ ê½ƒì´ í”¼ëŠ” ê´€ìƒ ìˆ˜ìƒì‹ë¬¼ì´ë‹¤.',
  img:'./Images/p15.jpg'},
  {cat:'plants',name:'ë¬¼ì˜¥ì  (<i>Monochoria korsakowii</i>)',lat:36.271383,lon:126.911545,
  desc: 'ë„í†°í•œ ìê³¼ ì„ ëª…í•œ ë³´ë¼ë¹› ê½ƒì´ ë‹¬ë¦¬ê³ , ë…¼Â·ì—°ëª» ê°€ì¥ìë¦¬ì—ì„œ ì˜ ìë€ë‹¤.',
  img:'./Images/p16.jpg'},
  {cat:'plants',name:'ë¬¼ì¹¸ë‚˜ (<i>Thalia dealbata</i>)',lat:36.270908,lon:126.912103,
  desc: 'í‚¤ê°€ í¬ê³  ìì— í° ë¶„ê°€ë£¨ê°€ ë¼ë©°, ë†’ê²Œ ì†Ÿì€ ê½ƒëŒ€ì— ë³´ëë¹› ê½ƒì´ í”¼ì–´ë‚œë‹¤.',
  img:'./Images/p17.jpg'},
  {cat:'plants',name:'í† ë€ (<i>Colocasia esculenta</i>)',lat:36.270897,lon:126.911818,
  desc: 'í° ë°©íŒ¨í˜• ìì´ ë¬¼ë°©ìš¸ì„ ë˜ë¥´ë¥´ êµ´ë¦¬ê³ , ì¤„ê¸°ì™€ ê´´ê²½ì— ì „ë¶„ì´ ë§ë‹¤.',
  img:'./Images/p18.jpg'},
  {cat:'plants',name:'ë¯¸êµ­ë¶€ìš© (<i>Hibiscus palustris</i>)',lat:36.269967,lon:126.911223,
  desc: 'ì ‘ì‹œë§Œ í•œ í° ê½ƒì´ ë¶„í™Â·í°ìƒ‰ìœ¼ë¡œ í”¼ê³ , ìì€ ë„“ê³  ê±°ì¹ ë‹¤.',
  img:'./Images/p19.jpg'},
  {cat:'plants',name:'ë¯¼ë“¤ë ˆ (<i>Taraxacum platycarpum</i>)',lat:36.269493,lon:126.913413,
  desc: 'ë…¸ë€ ê½ƒì´ í•œ ì†¡ì´ì”© í”¼ê³ , ì”¨ì•—ì€ í•˜ì–€ í™€ì”¨ë¡œ ë©€ë¦¬ ë‚ ì•„ê°„ë‹¤.',
  img:'./Images/p20.jpg'},
  {cat:'plants',name:'ì–´íŠ¸ë™ì…˜ ("<i>Nymphaea</i>'attration'"")',lat:36.271320,lon:126.912902,
  desc: 'ë‘¥ê·¼ ëœ°ìì´ ë¬¼ì— ë–  ìˆê³ , ê½ƒì€ ë‚®ì— ì—´ê³  ì €ë…ì— ê°ëŠ”ë‹¤.',
  img:'./Images/p21.jpg'},
  {cat:'plants',name:'ë²„ë“œë‚˜ë¬´ (<i>Salix koreensis</i>)',lat:36.270376,lon:126.912625,
  desc: 'ê°€ì§€ê°€ ìœ ì—°í•˜ê³  ì¼ì° ê½ƒê°€ë£¨ë¥¼ ë‚ ë¦¬ë©°, ì†œí„¸ ì”¨ì•—ì´ ëŒ€ëŸ‰ìœ¼ë¡œ í¼ì§„ë‹¤.',
  img:'./Images/p22.jpg'},
  {cat:'plants',name:'ë³‘ê½ƒë‚˜ë¬´ (<i>Weigela subsessilis</i>)',lat:36.268753,lon:126.911306,
  desc: 'ì—°í•œ í™©ë¡ìƒ‰ìœ¼ë¡œ íˆë‹¤ê°€ ë¶„í™ìœ¼ë¡œ ë³€í•˜ëŠ” í†µê½ƒì´ ê°€ì§€ì— ë‹¤ë‹¥ì´ ë‹¬ë¦°ë‹¤.',
  img:'./Images/p23.jpg'},
  {cat:'plants',name:'ë³‘ê½ƒí’€ (<i>Glechoma hederacea</i>)',lat:36.268940,lon:126.913225,
  desc: 'ë•…ì„ ê¸°ì–´ í¼ì§€ë©° ìì—ì„œ í–¥ì´ ë‚˜ê³ , ìì£¼ë¹› ì…ìˆ ê½ƒì´ í•€ë‹¤.',
  img:'./Images/p24.jpg'},
  {cat:'plants',name:'ë¶€ë“¤ (<i>Typha orientalis</i>)',lat:36.270851,lon:126.910745,
  desc: 'ì›ê¸°ë‘¥ ëª¨ì–‘ì˜ ê°ˆìƒ‰ ê½ƒì´ì‚­ì´ ì¸ìƒì ì´ë©°, ì¤„ê¸°ëŠ” ì†ì´ ìŠ¤í€ì§€ì²˜ëŸ¼ ë¶€ë“œëŸ½ë‹¤.',
  img:'./Images/p25.jpg'},
  {cat:'plants',name:'ë¶€ë ˆì˜¥ì  (<i>Eichhornia crassipes</i>)',lat:36.269543,lon:126.911337,
  desc: 'í†µí†µí•œ ë¶€ë ˆì¤„ê¸°ë¡œ ë¬¼ì— ëœ¨ë©°, ë¼ë²¤ë”ë¹› ê½ƒì´ ì§§ê²Œ ì˜¬ë¼ì˜¨ë‹¤.',
  img:'./Images/p26.jpg'},
  {cat:'plants',name:'ë¶€ìš© (<i>Hibiscus mutabilis</i>)',lat:36.268726,lon:126.912773,
  desc: 'ì•„ì¹¨ì—” í°ìƒ‰ìœ¼ë¡œ í”¼ê³  ì‹œê°„ì´ ì§€ë‚˜ë©° ë¶„í™ì—ì„œ ì§„ë¶„í™ìœ¼ë¡œ ìƒ‰ì´ ë³€í•œë‹¤.',
  img:'./Images/p27.jpg'},
  {cat:'plants',name:'ë¹„ë¹„ì¶” (<i>Hosta longipes</i>)',lat:36.270066,lon:126.912822,
  desc: 'ë„“ì€ ìë§¥ì´ ì„ ëª…í•œ ê·¸ëŠ˜ì‹ë¬¼ë¡œ, ë³´ëë¹› ë‚˜íŒ” ê°™ì€ ê½ƒì´ ëŠ˜ì–´ì§„ ê½ƒëŒ€ì— í•€ë‹¤.',
  img:'./Images/p28.jpg'},
  {cat:'plants',name:'ì‚¬ì² ë‚˜ë¬´ (<i>Euonymus japonicus</i>)',lat:36.268713,lon:126.912462,
  desc: 'ê´‘íƒ ìˆëŠ” ë‘êº¼ìš´ ìì„ ì‚¬ì²  ìœ ì§€í•˜ê³ , ê°€ì„ì— ì£¼í™©ìƒ‰ ê°€ì¢…í”¼ê°€ ì—´ë¦°ë‹¤.',
  img:'./Images/p29.jpg'},
  {cat:'plants',name:'ì‚°êµ­ (<i>Chrysanthemum boreale</i>)',lat:36.271854,lon:126.911780,
  desc: 'ë…¸ë€ ì‘ì€ ê½ƒì´ ì‚°ë“¤ë°”ëŒì— í”ë“¤ë¦¬ë©° ê°•í•œ êµ­í™” í–¥ì„ ë‚¸ë‹¤.',
  img:'./Images/p30.jpg'},
  {cat:'plants',name:'ìƒì´ê°€ë˜ (<i>Salvinia natans</i>)',lat:36.270312,lon:126.910997,
  desc: 'ë¬¼ ìœ„ì— ëœ¨ëŠ” ìì´ ë¹„ëŠ˜ì²˜ëŸ¼ ê²¹ì³ì§€ê³ , í‘œë©´ì— ë¯¸ì„¸í•œ í„¸ì´ ë‚œë‹¤.',
  img:'./Images/p31.jpg'},
  {cat:'plants',name:'ì„ íŒŒì´ì–´ ("<i>Nymphaea</i> 'sunfire'")',lat:36.270183,lon:126.911307,
  desc: 'í™©Â·ì£¼í™© ê³„ì—´ì˜ ì„ ëª…í•œ ê½ƒìƒ‰ê³¼ ì»´íŒ©íŠ¸í•œ ìƒìœ¡ì´ ê´€ìƒê°€ì¹˜ê°€ ë†’ë‹¤.',
  img:'./Images/p32.jpg'},
  {cat:'plants',name:'ì†Œë‚˜ë¬´ (<i>Pinus densiflora</i>)',lat:36.270869,lon:126.910478,
  desc: 'ë¶‰ì€ë¹› ìˆ˜í”¼ê°€ ë²—ê²¨ì§€ë©°, ë‘ ê°œì”© ë¶™ì€ ì†”ìê³¼ ê¸¸ì­‰í•œ ì†”ë°©ìš¸ì´ íŠ¹ì§•ì´ë‹¤.',
  img:'./Images/p33.jpg'},
  {cat:'plants',name:'ì‡ ëœ¨ê¸° (<i>Equisetum arvense</i>)',lat:36.269098,lon:126.911080,
  desc: 'ë§ˆë””ê°€ ëšœë ·í•œ ì† ë¹ˆ ì¤„ê¸°ì— ê·œì§ˆì´ ë§ì•„ ê±°ì¹ ê³ , í¬ìì¤„ê¸°ì™€ ë…¹ìƒ‰ì¤„ê¸°ê°€ ë”°ë¡œ ë‚œë‹¤.',
  img:'./Images/p34.jpg'},
  {cat:'plants',name:'ìˆ˜êµ­ (<i>Hydrangea macrophylla</i>)',lat:36.269776,lon:126.913145,
  desc: 'ë‘¥ê·¼ ê³µ ëª¨ì–‘ ê½ƒì°¨ë¡€ê°€ í† ì–‘ ì‚°ë„ì— ë”°ë¼ ì²­Â·ë¶„í™ìœ¼ë¡œ ë³€í•œë‹¤.',
  img:'./Images/p35.jpg'},
  {cat:'plants',name:'ì‹œí˜ë£¨ìŠ¤ (<i>Cyperus alternifolius</i>)',lat:36.270328,lon:126.910953,
  desc: 'ê³§ì€ ì¤„ê¸° ëì—ì„œ ìì´ ìš°ì‚°ì‚´ì²˜ëŸ¼ ì‚¬ë°©ìœ¼ë¡œ í¼ì§„ë‹¤.',
  img:'./Images/p36.jpg'},
  {cat:'plants',name:'ì—°ê½ƒ (<i>Nelumbo nucifera</i>)',lat:36.268319,lon:126.911090,
  desc: 'ì—¬ë¦„ì— í° ë¶„í™Â·í° ê½ƒì„ í”¼ìš°ë©° ì”¨ì™€ ë¿Œë¦¬ì¤„ê¸°ê°€ ì‹ìš©Â·ì•½ìš©ìœ¼ë¡œ ì´ìš©ëœë‹¤.',
  img:'./Images/p37.jpg'},
  {cat:'plants',name:'ì˜ì‚°í™ (<i>Rhododendron indicum</i>)',lat:36.269872,lon:126.913218,
  desc: 'í‚¤ ë‚®ì€ ìƒë¡ì„± ì§„ë‹¬ë˜ë¥˜ë¡œ ë¶‰ì€ ê¹”ë•Œê¸°ê½ƒì´ ê°€ì§€ ëì— êµ°ìƒí•œë‹¤.',
  img:'./Images/p38.jpg'},
  {cat:'plants',name:'ì™•ì§ˆê²½ì´ (<i>Plantago major</i>)',lat:36.268439,lon:126.913021,
  desc: 'í° íƒ€ì›í˜• ë¡œì œíŠ¸ ìê³¼ ê³§ê²Œ ì†ŸëŠ” ê¸¸ì­‰í•œ ê½ƒì´ì‚­ì´ íŠ¹ì§•ì´ë‹¤.',
  img:'./Images/p39.jpg'},
  {cat:'plants',name:'ì›ì¶”ë¦¬ (<i>Hemerocallis fulva</i>)',lat:36.269866,lon:126.911010,
  desc: 'í•˜ë£¨ ë§Œì— í”¼ê³  ì§€ëŠ” ì£¼í™©ìƒ‰ ê½ƒì´ íŠ¹ì§•ìœ¼ë¡œ ê´€ìƒìš©ê³¼ ì‹ìš©ìœ¼ë¡œ ì“°ì¸ë‹¤.',
  img:'./Images/p40.jpg'},
  {cat:'plants',name:'ì€í–‰ë‚˜ë¬´ (<i>Ginkgo biloba</i>)',lat:36.268588,lon:126.910425,
  desc: 'ë¶€ì±„ ëª¨ì–‘ ìë§¥ì´ ë°©ì‚¬ìƒìœ¼ë¡œ í¼ì§€ê³ , ì•”ê·¸ë£¨ ì—´ë§¤ëŠ” íŠ¹ìœ ì˜ ëƒ„ìƒˆê°€ ë‚œë‹¤.',
  img:'./Images/p41.jpg'},
  {cat:'plants',name:'ì´ì§‘íŠ¸ ë‚¨ìˆ˜ë ¨ (<i>Nymphaea caerulea</i>)',lat:36.270431,lon:126.911599,
  desc: 'í‘¸ë¥¸ë¹› ê½ƒê³¼ ê°€ëŠë‹¤ë€ ê½ƒìì´ ìš°ì•„í•˜ë©°, ìì€ ì–‡ê³  ë‘¥ê¸€ë‹¤.',
  img:'./Images/p42.jpg'},
  {cat:'plants',name:'ì¸ë„ì¹¸ë‚˜ (<i>Canna indica</i>)',lat:36.271252,lon:126.911983,
  desc: 'ì—´ëŒ€ì„± ì´ˆë³¸ìœ¼ë¡œ í™”ë ¤í•œ ë¶‰ì€Â·ì£¼í™© ê½ƒê³¼ ë„“ì€ ìì´ íŠ¹ì§•ì´ë©° ê´€ìƒ ê°€ì¹˜ê°€ ë†’ë‹¤.',
  img:'./Images/p43.jpg'},
  {cat:'plants',name:'ìì´ì–¸íŠ¸ íŒŒí”¼ë£¨ìŠ¤ (<i>Cyperus papyrus</i>)',lat:36.270370,lon:126.910514,
  desc: 'ê¸´ ì¤„ê¸° ëì— ìš°ì‚°ì‚´ì²˜ëŸ¼ ìì´ ì´ìƒìœ¼ë¡œ í¼ì ¸ ì´êµ­ì ì¸ ì‹¤ë£¨ì—£ì„ ë§Œë“ ë‹¤.',
  img:'./Images/p44.jpg'},
  {cat:'plants',name:'ì¢€ê°œêµ¬ë¦¬ë°¥ (<i>Lemna perpusilla</i>)',lat:36.269974,lon:126.910810,
  desc: 'ì•„ì£¼ ì‘ì€ íƒ€ì› ìì´ ëª‡ ê°œì”© ëª¨ì—¬ ë– ë‹¤ë‹ˆê³ , ë¿Œë¦¬ëŠ” í•œ ê°€ë‹¥ì´ë‹¤.',
  img:'./Images/p45.jpg'},
  {cat:'plants',name:'ì¥ê¼¬ë¦¬ë§ì´ˆ (<i>Justicia procumbens</i>)',lat:36.268430,lon:126.912639,
  desc: 'ë‚®ê²Œ í¼ì§€ë©° ì—°ë³´ëë¹› ì‘ì€ ê½ƒì´ ìê²¨ë“œë‘ì´ì— ë“œë¬¸ë“œë¬¸ ë‹¬ë¦°ë‹¤.',
  img:'./Images/p46.jpg'},
  {cat:'plants',name:'ì§ˆê²½ì´ (<i>Plantago asiatica</i>)',lat:36.271560,lon:126.911101,
  desc: 'ë‘êº¼ìš´ ë¡œì œíŠ¸ ìì— í‰í–‰ ë§¥ì´ ë„ë“œë¼ì§€ê³ , ê¸¸ì­‰í•œ ê½ƒëŒ€ê°€ ì¤„ì¤„ì´ ì„ ë‹¤.',
  img:'./Images/p47.jpg'},
  {cat:'plants',name:'ì°”ë ˆ (<i>Rosa multiflora</i>)',lat:36.269490,lon:126.910769,
  desc: 'ê°€ëŠ˜ê³  êµ¬ë¶€ëŸ¬ì§„ ê°€ì‹œê°€ ë§ê³ , ê°€ì„ì— ë¹¨ê°„ ì¥ê³¼(ë¡œì¦ˆí™)ê°€ ë‹¬ë¦°ë‹¤.',
  img:'./Images/p48.jpg'},
  {cat:'plants',name:'ì² ì­‰ (<i>Rhododendron schlippenbachii</i>)',lat:36.269969,lon:126.913565,
  desc: 'ë„“ì€ ì—°ë¶„í™ ê½ƒì´ í•œêº¼ë²ˆì— í”¼ê³ , ê°€ì§€ëŠ” ì„±ê¸°ì§€ë§Œ ê½ƒëŸ‰ì´ í’ì„±í•˜ë‹¤.',
  img:'./Images/p49.jpg'},
  {cat:'plants',name:'í°ê°€ì‹œì—°ê½ƒ (<i>Victoria amazonica</i>)',lat:36.270527,lon:126.913120,
  desc: 'ì ‘ì‹œì²˜ëŸ¼ í° ì›í˜• ìì´ ê°€ì¥ìë¦¬ê°€ ì¹˜ì¼œì˜¬ë¼ê°€ê³ , ë§¤ìš° ê°€ë” ë°¤ì— í–¥ê¸°ë¡œìš´ ê½ƒì´ í•€ë‹¤.',
  img:'./Images/p50.jpg'},
  {cat:'plants',name:'í°ë•…ë¹ˆëŒ€ (<i>Euphorbia nutans</i>)',lat:36.270578,lon:126.910581,
  desc: 'ì¤„ê¸°Â·ìì„ ìƒì²˜ë‚´ë©´ í° ìœ ì•¡ì´ ë‚˜ì˜¤ê³ , ì‘ê³  ëˆˆì— ë„ì§€ ì•ŠëŠ” ê½ƒì´ ì‹¹êµ°ë‹¤.',
  img:'./Images/p51.jpg'},

 {cat:'insects',name:'ë„¤ë°œë‚˜ë¹„ (<i>Polygonia c-aureum</i>)', lat:36.269439, lon:126.9137465,
  desc:'í†±ë‹ˆì²˜ëŸ¼ ì°¢ê¸´ ì£¼í™©ë¹› ë‚ ê°œì™€ ë’·ë‚ ê°œ â€˜Câ€™ í‘œì‹ì´ íŠ¹ì§•ì´ë‹¤.',
  img:'./Images/bf.jpg'},
  {cat:'insects',name:'ë‚¨ë°©ë¶€ì „ë‚˜ë¹„ (<i>Pseudozizeeria maha</i>)', lat:36.2691517, lon:126.9136577,
  desc:'ì‘ì€ ì²´êµ¬ì— ìˆ˜ì»·ì€ ì€ì²­ìƒ‰ ê´‘íƒ, ì•”ì»·ì€ íšŒê°ˆìƒ‰ì— ì–¼ë£©ì´ ìˆë‹¤.',
  img:'./Images/bf2.jpg'},
  {cat:'insects',name:'ì†Œê¸ˆìŸì´ (<i>Aquarius paludum paludum</i>)', lat:36.270137, lon:126.911417,
  desc:'ê¶ë‚¨ì§€ ì „ë°˜ì— í¼ì ¸ ìˆë‹¤. ë°œëì˜ ë¯¸ì„¸í•œ í„¸ë¡œ ìˆ˜ë©´ ì¥ë ¥ì„ ì´ìš©í•´ ë¬¼ ìœ„ë¥¼ ë¯¸ë„ëŸ¬ì§€ë“¯ ê±·ëŠ”ë‹¤.',
  img:'./Images/bf3.jpg'},
  {cat:'insects',name:'ê³ ì¶”ì ìë¦¬ (<i>Crocothemis servilia</i>)', lat:36.271536, lon:126.912707,
  desc:'ìˆ˜ì»·ì€ ì„ ëª…í•œ ë¶‰ì€ìƒ‰ì´ê³ , ë¬¼ê°€ë¥¼ ë‚®ê²Œ í™œì£¼í•˜ë“¯ ë¹„í–‰í•œë‹¤.',
  img:'./Images/bf4.jpg'},
  {cat:'insects',name:'ë°€ì ìë¦¬ (<i>Orthetrum albistylum</i>)', lat:36.269494, lon:126.913981,
  desc:'ìˆ˜ì»· ê°€ìŠ´Â·ë°°ì— íšŒë°±ìƒ‰ ë¶„ê°€ë£¨ê°€ ë¼ê³ , ë‚ ê°œë§¥ì´ êµµì–´ ë³´ì¸ë‹¤.',
  img:'./Images/bf5.jpg'},
  {cat:'insects',name:'ë¯¸êµ­í°ë¶ˆë‚˜ë°©ìœ ì¶© (<i>Hyphantria cunea</i>)', lat:36.268881, lon:126.912588,
  desc:'ê¶ë‚¨ì§€ ì „ë°˜ì— í¼ì ¸ ìˆë‹¤. ê°€ì§€ì— í° ê±°ë¯¸ì¤„ì§‘ì„ ë§Œë“¤ê³  ë–¼ë¡œ ìì„ ê°‰ì•„ë¨¹ëŠ” í•´ì¶©ì´ë‹¤.',
  img:'./Images/bf6.jpg'},
  {cat:'insects',name:'ë¨¼ì§€ë²Œë ˆ (<i>Anisodactylus signatus</i>)', lat:36.270522, lon:126.910626,
  desc:'ê²€ì€ ê¸ˆì†ê´‘íƒì˜ ë•…ë”±ì •ë²Œë ˆë¡œ, ë°¤ì— í™œë™í•˜ë©° ì‘ì€ ì ˆì§€ë™ë¬¼ì„ í¬ì‹í•œë‹¤.',
  img:'./Images/bf7.jpg'},
  {cat:'insects',name:'ì•”ëê²€ì€í‘œë²”ë‚˜ë¹„ (<i>Argyreus hyperbius</i>)', lat:36.269471, lon:126.913857,
  desc:'í° ì£¼í™©ìƒ‰ ë‚ ê°œì— ê²€ì€ ë°˜ì ì´ ìˆê³ , ì•”ì»·ì€ ë’·ë‚ ê°œ ëë¶€ë¶„ì´ ì–´ë‘¡ë‹¤.',
  img:'./Images/bf8.jpg'},
  {cat:'insects',name:'ì¬ë˜ê¿€ë²Œ (<i>Apis cerana</i>)', lat:36.269270, lon:126.910775,
  desc:'ëª¸ì§‘ì´ ì‘ê³  ë¯¼ì²©í•˜ë©°, ì˜¨ë„ ë³€í™”ì™€ ë°€ì› ë³€í™”ì— ë¯¼ê°í•´ ì§‘ë‹¨ í–‰ë™ì´ ë¹ ë¥´ë‹¤.',
  img:'./Images/bf9.jpg'},
  {cat:'insects',name:'íŒ¥ì¤‘ì´ (<i>Oedaleus infernalis</i>)', lat:36.270485, lon:126.910806,
  desc:'ì´ˆì§€ì—ì„œ ì˜ ë‚ ì•„ì˜¤ë¥´ëŠ” ì´ˆë¡ìƒ‰í˜•ë³´ë‹¤ ê°ˆìƒ‰í˜•ì´ í”í•œ ë©”ëšœê¸°ë¡œ, ë“±ì˜ Xìê°€ ì„ ëª…í•˜ë‹¤.',
  img:'./Images/bf10.jpg'},
  {cat:'insects',name:'ë°°ì¶”í°ë‚˜ë¹„ (<i>Pieris rapae</i>)', lat:36.269018, lon:126.913336,
  desc:'í° ë‚ ê°œì— ê²€ì€ì ì´ ìˆìœ¼ë©°, ì• ë²Œë ˆëŠ” ë°°ì¶”ê³¼ ìì„ ì„ í˜¸í•œë‹¤.',
  img:'./Images/bf11.jpg'},
  {cat:'insects',name:'ì•„ì‹œì•„ì‹¤ì ìë¦¬ (<i>Ischnura asiatica</i>)', lat:36.269140, lon:126.911175,
  desc:'ê°€ëŠ˜ê³  ì‘ì€ ì²´í˜•ì— ìˆ˜ì»· ê¼¬ë¦¬ë§ˆë””ê°€ íŒŒë—ê²Œ ë¹›ë‚œë‹¤.',
  img:'./Images/bf12.jpg'},
];

points.forEach(p=>{
  const descHtml = p.desc?`<div style="margin:6px 0;color:#374151">${p.desc}</div>`:'';
  const imgHtml = p.img?`<img src="${p.img}" alt="${p.name}" style="width:100%;height:auto;border-radius:8px">`:'';
  const html = `<div style="min-width:220px;max-width:280px;line-height:1.35">
    <div style="font-weight:700;margin-bottom:4px">${p.name||''}</div>
    ${descHtml}${imgHtml}
  </div>`;
  const icon = icons[p.cat] || icons.plants;
  L.marker([p.lat,p.lon],{icon}).bindPopup(html).addTo(groups[p.cat]);
});

// 4) íˆíŠ¸ë§µ
const heat = L.heatLayer(points.map(p=>[p.lat,p.lon, (p.cat==='birds'?0.6:(p.cat==='insects'?0.8:0.5)) ]),{radius:25,blur:15});

// 5) í† ê¸€ ë°”ì¸ë”© (ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼)
function bind(id,key){ const el=document.getElementById(id); if(!el) return; el.addEventListener('change',e=>{ e.target.checked?groups[key].addTo(map):map.removeLayer(groups[key]); }); }
bind('birdsToggle','birds'); bind('plantsToggle','plants'); bind('insectsToggle','insects');
const ht=document.getElementById('heatToggle'); if(ht){ ht.addEventListener('change',e=>{ e.target.checked?heat.addTo(map):map.removeLayer(heat); }); }
const sheet=document.getElementById('sheet'); document.getElementById('openSheet').onclick=()=>sheet.classList.add('open'); document.getElementById('grab').onclick=()=>sheet.classList.remove('open');
bind('mb_birds','birds'); bind('mb_plants','plants'); bind('mb_insects','insects');
const mbht=document.getElementById('mb_heat'); if(mbht){ mbht.addEventListener('change',e=>{ e.target.checked?heat.addTo(map):map.removeLayer(heat); }); }
</script>
</body>
</html>
